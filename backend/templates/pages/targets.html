{{template "base.html" .}}

{{define "title"}}Targets - reconYa{{end}}

{{define "content"}}
<div class="row g-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">
                    <i class="bi bi-bullseye me-2"></i>Scan Targets
                </h5>
                <button class="btn btn-success" 
                        hx-get="/api/targets/add-form" 
                        hx-target="#target-modal-content"
                        data-bs-toggle="modal" 
                        data-bs-target="#targetModal">
                    <i class="bi bi-plus me-1"></i>Add Target
                </button>
            </div>
            <div class="card-body">
                <div id="targets-list" 
                     hx-get="/api/devices" 
                     hx-trigger="load, every 5s"
                     hx-indicator=".htmx-indicator">
                    <div class="text-center py-5">
                        <div class="loading-spinner mx-auto mb-3"></div>
                        <div class="text-muted">Loading targets...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Target Modal -->
<div class="modal fade" id="targetModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content bg-dark border-success">
            <div id="target-modal-content">
                <!-- Content loaded via HTMX -->
            </div>
        </div>
    </div>
</div>
{{end}}